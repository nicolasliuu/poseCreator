{"ast":null,"code":"var _jsxFileName = \"/Users/vantony/Documents/sar_storytelling/pose-creator/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport URDFLoader from 'urdf-loader';\nimport * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const canvasRef = useRef(null);\n  const [robot, setRobot] = useState(null);\n  const [viewer, setViewer] = useState(null);\n  const setRobotJointValues = (robot, positions) => {\n    Object.keys(positions).forEach(jointName => {\n      const joint = robot.joints[jointName];\n      if (joint && joint.setAngle) {\n        //joint.setAngle(positions[jointName]);\n\n        viewer.setJointValue(jointName, positions[jointName]);\n      }\n    });\n  };\n  const animateRobot = async () => {\n    const position1 = [0.5, -0.5, 0.2];\n    const position2 = [-0.5, 0.5, -0.2];\n    const position3 = [0, 0, 0];\n    const positions = [position1, position2, position3];\n    for (const position of positions) {\n      robot.joints['elbow'].setJointValue(position[0]);\n      robot.joints['shoulder'].setJointValue(position[1]);\n      robot.joints['wrist'].setJointValue(position[2]);\n      await new Promise(resolve => setTimeout(resolve, 1000));\n    }\n  };\n  useEffect(() => {\n    console.log(viewer);\n  }, [viewer]);\n  useEffect(() => {\n    console.log(robot);\n  }, [robot]);\n  const handleAnimateButtonClick = () => {\n    animateRobot();\n  };\n  useEffect(() => {\n    const manager = new THREE.LoadingManager();\n    const loader = new URDFLoader(manager);\n    loader.load('./robot.urdf', loadedRobot => {\n      setRobot(loadedRobot);\n      setViewer(loader);\n      const scene = new THREE.Scene();\n\n      // Set up lights and camera\n      const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\n      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);\n      directionalLight.position.set(0, 1, 0);\n      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n      camera.position.z = 2;\n      scene.add(ambientLight, directionalLight, loadedRobot);\n      const renderer = new THREE.WebGLRenderer({\n        canvas: canvasRef.current\n      });\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      const controls = new OrbitControls(camera, renderer.domElement);\n      controls.update();\n      const animate = () => {\n        requestAnimationFrame(animate);\n        controls.update();\n        renderer.render(scene, camera);\n      };\n      animate();\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        width: '100vw',\n        height: '100vh'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleAnimateButtonClick,\n      style: {\n        position: 'absolute',\n        top: 10,\n        right: 10\n      },\n      children: \"Animate Robot\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"aG6jp/TaRrP4FynwGX/CE7d4Z4g=\");\n_c = App;\nexport default App;\n\n// import React, { useRef, useEffect, useState } from 'react';\n// import URDFLoader from 'urdf-loader';\n// import * as THREE from 'three';\n// import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\n// function App() {\n//   const canvasRef = useRef(null);\n//   const [jointSliders, setJointSliders] = useState({});\n\n//   const updateJointValue = (jointName, value) => {\n//     const robot = jointSliders.robot;\n//     if (robot && robot.joints[jointName]) {\n//       robot.joints[jointName].setJointValue(value);\n//     }\n//   };\n\n//   const buildJointSliders = (robot) => {\n//     const newJointSliders = Object.keys(robot.joints).reduce((sliders, jointName) => {\n//       const joint = robot.joints[jointName];\n//       sliders[jointName] = {\n//         joint: joint,\n//         value: joint.angle || 0,\n//       };\n//       return sliders;\n//     }, {});\n//     newJointSliders.robot = robot;\n//     setJointSliders(newJointSliders);\n//   };\n\n//   useEffect(() => {\n//     const manager = new THREE.LoadingManager();\n//     const loader = new URDFLoader(manager);\n\n//     loader.load('./robot.urdf', (robot) => {\n//       const scene = new THREE.Scene();\n\n//       // Set up lights and camera\n//       const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\n//       const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);\n//       directionalLight.position.set(0, 1, 0);\n\n//       const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n//       camera.position.z = 2;\n\n//       scene.add(ambientLight, directionalLight, robot);\n\n//       const renderer = new THREE.WebGLRenderer({ canvas: canvasRef.current });\n//       renderer.setSize(window.innerWidth, window.innerHeight);\n\n//       // Set up OrbitControls\n//       const controls = new OrbitControls(camera, renderer.domElement);\n//       controls.target.set(0, 0, 0);\n//       controls.update();\n\n//       buildJointSliders(robot);\n\n//       const animate = () => {\n//         requestAnimationFrame(animate);\n//         controls.update();\n//         renderer.render(scene, camera);\n//       };\n\n//       animate();\n//     });\n//   }, []);\n\n//   return (\n//     <>\n//       <canvas\n//         ref={canvasRef}\n//         style={{ width: '100vw', height: '100vh' }}\n//       />\n//       <div style={{ position: 'absolute', top: 10, left: 10 }}>\n//         {Object.entries(jointSliders).map(([jointName, slider]) => (\n//           jointName !== 'robot' && (\n//             <div key={jointName}>\n//               <label>{jointName}:</label>\n//               <input\n//                 type=\"range\"\n//                 min={slider.joint.limit.lower}\n//                 max={slider.joint.limit.upper}\n//                 value={slider.value}\n//                 onChange={(e) => {\n//                   const newValue = parseFloat(e.target.value);\n//                   updateJointValue(jointName, newValue);\n//                   setJointSliders((prevSliders) => ({\n//                     ...prevSliders,\n//                     [jointName]: { ...prevSliders[jointName], value: newValue },\n//                   }));\n//                 }}\n//               />\n//             </div>\n//           )\n//         ))}\n//       </div>\n//     </>\n//   );\n// }\n\n// export default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useRef","useEffect","useState","URDFLoader","THREE","OrbitControls","jsxDEV","_jsxDEV","App","_s","canvasRef","robot","setRobot","viewer","setViewer","setRobotJointValues","positions","Object","keys","forEach","jointName","joint","joints","setAngle","setJointValue","animateRobot","position1","position2","position3","position","Promise","resolve","setTimeout","console","log","handleAnimateButtonClick","manager","LoadingManager","loader","load","loadedRobot","scene","Scene","ambientLight","AmbientLight","directionalLight","DirectionalLight","set","camera","PerspectiveCamera","window","innerWidth","innerHeight","z","add","renderer","WebGLRenderer","canvas","current","setSize","controls","domElement","update","animate","requestAnimationFrame","render","children","ref","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","onClick","top","right","_c","$RefreshReg$"],"sources":["/Users/vantony/Documents/sar_storytelling/pose-creator/src/App.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport URDFLoader from 'urdf-loader';\nimport * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\nfunction App() {\n  const canvasRef = useRef(null);\n  const [robot, setRobot] = useState(null);\n  const [viewer, setViewer] = useState(null);\n\n  const setRobotJointValues = (robot, positions) => {\n    Object.keys(positions).forEach((jointName) => {\n      const joint = robot.joints[jointName];\n      if (joint && joint.setAngle) {\n        //joint.setAngle(positions[jointName]);\n\n        viewer.setJointValue(jointName, positions[jointName]);\n\n      }\n    });\n  };\n\n  const animateRobot = async () => {\n    const position1 = [ 0.5, -0.5, 0.2 ];\n    const position2 = [ -0.5, 0.5, -0.2 ];\n    const position3 = [ 0, 0, 0 ];\n\n    const positions = [position1, position2, position3];\n    for (const position of positions) {\n      robot.joints['elbow'].setJointValue(position[0]);\n      robot.joints['shoulder'].setJointValue(position[1]);\n      robot.joints['wrist'].setJointValue(position[2]);\n      await new Promise((resolve) => setTimeout(resolve, 1000));\n    }\n  };\n\n  useEffect(() => {\n    console.log(viewer)\n  }, [viewer])\n\n  useEffect(() => {\n    console.log(robot)\n  }, [robot])\n\n  const handleAnimateButtonClick = () => {\n    animateRobot();\n  };\n\n  useEffect(() => {\n    const manager = new THREE.LoadingManager();\n    const loader = new URDFLoader(manager);\n\n    loader.load('./robot.urdf', (loadedRobot) => {\n      setRobot(loadedRobot);\n      setViewer(loader)\n      const scene = new THREE.Scene();\n\n      // Set up lights and camera\n      const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\n      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);\n      directionalLight.position.set(0, 1, 0);\n\n      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n      camera.position.z = 2;\n\n      scene.add(ambientLight, directionalLight, loadedRobot);\n\n      const renderer = new THREE.WebGLRenderer({ canvas: canvasRef.current });\n      renderer.setSize(window.innerWidth, window.innerHeight);\n\n      const controls = new OrbitControls(camera, renderer.domElement);\n      controls.update();\n\n      const animate = () => {\n        requestAnimationFrame(animate);\n        controls.update();\n        renderer.render(scene, camera);\n      };\n\n      animate();\n    });\n  }, []);\n\n  return (\n    <div>\n      <canvas ref={canvasRef} style={{ width: '100vw', height: '100vh' }} />\n      <button onClick={handleAnimateButtonClick} style={{ position: 'absolute', top: 10, right: 10 }}>\n        Animate Robot\n      </button>\n    </div>\n  );\n}\n\nexport default App;\n\n\n\n// import React, { useRef, useEffect, useState } from 'react';\n// import URDFLoader from 'urdf-loader';\n// import * as THREE from 'three';\n// import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\n// function App() {\n//   const canvasRef = useRef(null);\n//   const [jointSliders, setJointSliders] = useState({});\n\n//   const updateJointValue = (jointName, value) => {\n//     const robot = jointSliders.robot;\n//     if (robot && robot.joints[jointName]) {\n//       robot.joints[jointName].setJointValue(value);\n//     }\n//   };\n\n//   const buildJointSliders = (robot) => {\n//     const newJointSliders = Object.keys(robot.joints).reduce((sliders, jointName) => {\n//       const joint = robot.joints[jointName];\n//       sliders[jointName] = {\n//         joint: joint,\n//         value: joint.angle || 0,\n//       };\n//       return sliders;\n//     }, {});\n//     newJointSliders.robot = robot;\n//     setJointSliders(newJointSliders);\n//   };\n\n//   useEffect(() => {\n//     const manager = new THREE.LoadingManager();\n//     const loader = new URDFLoader(manager);\n\n//     loader.load('./robot.urdf', (robot) => {\n//       const scene = new THREE.Scene();\n\n//       // Set up lights and camera\n//       const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\n//       const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);\n//       directionalLight.position.set(0, 1, 0);\n\n//       const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n//       camera.position.z = 2;\n\n//       scene.add(ambientLight, directionalLight, robot);\n\n//       const renderer = new THREE.WebGLRenderer({ canvas: canvasRef.current });\n//       renderer.setSize(window.innerWidth, window.innerHeight);\n\n//       // Set up OrbitControls\n//       const controls = new OrbitControls(camera, renderer.domElement);\n//       controls.target.set(0, 0, 0);\n//       controls.update();\n\n//       buildJointSliders(robot);\n\n//       const animate = () => {\n//         requestAnimationFrame(animate);\n//         controls.update();\n//         renderer.render(scene, camera);\n//       };\n\n//       animate();\n//     });\n//   }, []);\n\n//   return (\n//     <>\n//       <canvas\n//         ref={canvasRef}\n//         style={{ width: '100vw', height: '100vh' }}\n//       />\n//       <div style={{ position: 'absolute', top: 10, left: 10 }}>\n//         {Object.entries(jointSliders).map(([jointName, slider]) => (\n//           jointName !== 'robot' && (\n//             <div key={jointName}>\n//               <label>{jointName}:</label>\n//               <input\n//                 type=\"range\"\n//                 min={slider.joint.limit.lower}\n//                 max={slider.joint.limit.upper}\n//                 value={slider.value}\n//                 onChange={(e) => {\n//                   const newValue = parseFloat(e.target.value);\n//                   updateJointValue(jointName, newValue);\n//                   setJointSliders((prevSliders) => ({\n//                     ...prevSliders,\n//                     [jointName]: { ...prevSliders[jointName], value: newValue },\n//                   }));\n//                 }}\n//               />\n//             </div>\n//           )\n//         ))}\n//       </div>\n//     </>\n//   );\n// }\n\n// export default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}